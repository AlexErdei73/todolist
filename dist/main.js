!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"allProjects",(function(){return ot}));const s=document.querySelector(".todo"),o=s.querySelector("#title"),n=s.querySelector("#description"),a=s.querySelector("#duedate"),r=s.querySelector("#priority"),c=s.querySelector("#notes");const l=document.querySelector(".todos"),h=document.querySelector(".projects"),u=new class{constructor(){this.todo=null}output(t){t&&(this.todo=t,o.value=t.title,n.value=t.description,a.value=t.dueDate.toISOString().slice(0,10),r.value=t.priority,c.value=t.notes.join("\n"))}input(t){t&&(t.title=o.value,t.description=n.value,a.value?t.dueDate=new Date(a.value):t.dueDate=new Date(0),t.priority=r.value,t.notes=c.value.split("\n"))}get inputTitle(){return o}},d=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,w=new WeakMap;class y{constructor(t="",e=""){this.display=u,d.set(this,t),p.set(this,e),g.set(this,new Date(0)),w.set(this,[])}set title(t){d.set(this,t)}get title(){return d.get(this)}set description(t){p.set(this,t)}get description(){return p.get(this)}set dueDate(t){g.set(this,t)}get dueDate(){return g.get(this)}set priority(t){m.set(this,t)}get priority(){return m.get(this)}set notes(t){w.set(this,t)}get notes(){return w.get(this)}}const v=new WeakMap,f=new WeakMap,S=new WeakMap,k=new WeakMap;const W=new class{constructor(){v.set(this,(t,e)=>{localStorage.setItem(t+".0",e.title),localStorage.setItem(t+".1",e.description);const i=e.dueDate.toISOString().slice(0,10);localStorage.setItem(t+".2",i),localStorage.setItem(t+".3",e.priority);const s=e.notes.join("\n");localStorage.setItem(t+".4",s)}),f.set(this,(t,e)=>{e.title=localStorage.getItem(t+".0"),e.description=localStorage.getItem(t+".1");const i=localStorage.getItem(t+".2");e.dueDate=new Date(i),e.priority=localStorage.getItem(t+".3");const s=localStorage.getItem(t+".4");e.notes=s.split("\n")}),S.set(this,(t,e)=>{localStorage.setItem(t+".title",e.title),localStorage.setItem(t+".active",e.active),localStorage.setItem(t+".length",e.length),e.forEach((e,i)=>{let s=t+"."+i.toString();this.save(s,e)})}),k.set(this,(t,e)=>{e.erase(),e.title=localStorage.getItem(t+".title"),e.active=localStorage.getItem(t+".active");const i=localStorage.getItem(t+".length");for(let s=0;s<i;s++){let i=t+"."+s.toString();const o=e.createItem();this.load(i,o)}})}save(t,e){e instanceof y?v.get(this)(t,e):S.get(this)(t,e)}load(t,e){e instanceof y?f.get(this)(t,e):k.get(this)(t,e)}},D=new WeakMap,M=new WeakMap,j=new WeakMap,b=new WeakMap,I=new WeakMap,L=new WeakMap,T=new WeakMap,P=new WeakMap,x=new WeakMap,q=new WeakMap,O=new WeakMap,E=new WeakMap,C=new WeakMap,_=new WeakMap;class N{constructor(t){this.div=t,this.item=[],D.set(this,t.querySelector("#title")),M.set(this,t.querySelector("ul")),j.set(this,t.querySelector("#new")),b.set(this,t.querySelector("#delete")),q.set(this,t=>{const e=t.target,i=Number(e.dataset.index),s=this.item.active;C.get(this)(s,i),this.item.active=i,this.update()}),I.set(this,(t,e,i)=>{t.innerHTML="";let s="";0!=i.valueOf()&&(s=i.toISOString().slice(0,10));const o=document.createElement("span");o.id="duedate",o.textContent=s;const n=document.createElement("span");n.textContent=e,t.appendChild(n),t.appendChild(o)}),O.set(this,(t,e,i)=>{i==e?t.classList.add("active"):t.classList.remove("active")}),E.set(this,(t,e)=>{t.classList.remove("low"),t.classList.remove("medium"),t.classList.remove("high"),e?t.classList.add(e):t.classList.add("low")}),L.set(this,(t,e,i)=>{const s=document.createElement("li");I.get(this)(s,t.title,t.dueDate),s.dataset.index=e.toString(),E.get(this)(s,t.priority),s.addEventListener("click",q.get(this)),O.get(this)(s,e,i);M.get(this).appendChild(s)}),T.set(this,()=>{this.item.remove(),this.output(this.item)}),b.get(this).addEventListener("click",T.get(this)),P.set(this,()=>{const t=this.item.active;this.item.new();const e=this.item.active;C.get(this)(t,e);this.item[e].display.inputTitle.value="",_.get(this),this.output(this.item)}),j.get(this).addEventListener("click",P.get(this)),x.set(this,()=>{const t=M.get(this);t.innerHTML="",M.set(this,t)}),C.set(this,(t,e)=>{if(t>=0){const e=this.item[t];e.display.input(e)}if(e>=0){const t=this.item[e];t.display.output(t)}}),_.set(this,()=>{const t=this.item.active;if(t>=0){const e=this.item[t];e.display.output(e)}})}update(){_.get(this)();const t=this.div.querySelectorAll("li"),e=this.item.active;let i=null;t.forEach((t,s)=>{i=this.item[s],I.get(this)(t,i.title,i.dueDate),E.get(this)(t,i.priority),O.get(this)(t,s,e)}),this.save()}save(){ot.length>0&&W.save("",ot)}output(t){x.get(this)(),this.item=t,t.display.inputTitle&&t.title&&(t.display.inputTitle.value=t.title);const e=t.active;t.forEach((t,i)=>{L.get(this)(t,i,e)}),_.get(this)(),this.save()}input(t){t.title=t.display.inputTitle.value}get inputTitle(){return D.get(this)}}const H=new N(l),A=new N(h),B=new WeakMap,F=new WeakMap,z=new WeakMap;class G extends Array{constructor(t,e){super(),F.set(this,e),B.set(this,t),z.set(this,-1)}set title(t){B.set(this,t)}get title(){return B.get(this)}get display(){return F.get(this)}get active(){return z.get(this)}set active(t){z.set(this,t)}addNew(t){this.push(t),z.set(this,this.length-1)}remove(){this.length>0&&(this.splice(this.active,1),this.length<=this.active&&z.set(this,this.length-1))}erase(){this.splice(0,this.length)}}class J extends G{constructor(t){super(t,H)}get dueDate(){return new Date(0)}new(){this.createItem()}createItem(){const t=new y;return this.addNew(t),t}}const K=new y("Todo object");K.description="First thing to make the Todo object, which stores the data for the todo item.",K.priority="low";const Q=new y("Todo display");Q.description="When the todo is ready, we make the todo display object. It can display the data in the todo and can input it from the user interface.",Q.priority="low";const R=new y("List");R.description="We make a general list object, which is the base for the storage for our objects.",R.priority="medium";const U=new y("Project & Projects");U.description="We need two different kind of list. One stores our todos, it's the Project. The other stores the different projects, we call it Projects.",U.dueDate=new Date("2020-08-19"),U.priority="high",U.notes=["We can make an extended List abstract class, which contains the extra functionality added to the List class with composition. ","Later we can derive the Project and Projects classes from this class by inheritance."];const V=new y("Display List");V.description="The DisplayList object handles the user interface for the Projects and for the active Project.",V.dueDate=new Date("2020-08-19"),V.priority="high";const X=new y("Testing");X.description="We have to make sure that everything works together seamlessly.",X.dueDate=new Date("2020-08-19"),X.priority="high";const Y=new y("Duedates");Y.description="We add the due date to the Project display.",Y.dueDate=new Date("2020-08-20"),Y.priority="low";const Z=new y("Colors");Z.description="We add the colors to the Project display.",Z.dueDate=new Date("2020-08-21"),Z.priority="low";const $=new y("Styling");$.description="We do the CSS styling, to make the site nice.",$.dueDate=new Date("2020-08-22"),$.priority="medium";const tt=new y("Local Storage");tt.description="We make objects be able to store their data in the browser's local storage.",tt.dueDate=new Date("2020-08-23"),tt.priority="high";const et=new y("Smaple Project");et.description="We add a sample project.",et.dueDate=new Date("2020-08-24"),et.priority="low";const it=new y("Bugfixes");it.description="We test again the whole thing and fix the remaining bugs.",it.dueDate=new Date("2020-08-24"),it.priority="high",it.notes=["We need to make the full surface of the list items clickable. They contain span HTML elements, which are not clickable.","","Other issue is the due date on the display. It doesn't get rendered nicely if the title is too long."];const st=[];st.push(K),st.push(Q),st.push(R),st.push(U),st.push(V),st.push(X),st.push(Y),st.push(Z),st.push($),st.push(tt),st.push(et),st.push(it);const ot=new class extends G{constructor(t){super(t,A)}new(){this.createItem()}createItem(){const t=new J("");return super.addNew(t),t}}("allProjects");localStorage.getItem(".length")?W.load("",ot):function(){const t=ot.createItem();t.title="ToDoList",st.forEach(e=>{t.push(e)}),t.active=0}(),ot.display.output(ot)}]);
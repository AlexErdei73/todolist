!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const i=new WeakMap;class r{constructor(t=[]){i.set(this,t)}add(t,e=-1){const s=i.get(this),r=s.length;if(-1==e)s.push(t);else{if(e<0||e>r)throw new Error("index is out of range");s.splice(e,0,t)}i.set(this,s)}delete(t=-1){let e=i.get(this);if(-1!=t){if(t<0||t>=e.length)throw new Error("index out of range");e.splice(t,1)}else e.pop();i.set(this,e)}del(t){const e=i.get(this);if(t){const s=e.indexOf(t);if(-1==s)throw new Error("item is not in the list");this.delete(s)}}get arr(){return i.get(this)}get count(){return i.get(this).length}}const n=document.querySelector(".todo"),o=n.querySelector("#title"),u=n.querySelector("#description"),a=n.querySelector("#duedate"),c=n.querySelector("#priority"),l=n.querySelector("#notes");const h=document.querySelector(".todos"),p=document.querySelector(".projects"),d=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakMap,y=new WeakMap;class v{constructor(t=""){d.set(this,t),w.set(this,new Date(0)),y.set(this,[])}set title(t){d.set(this,t)}get title(){return d.get(this)}set description(t){g.set(this,t)}get description(){return g.get(this)}set dueDate(t){w.set(this,t)}get dueDate(){return w.get(this)}set priority(t){f.set(this,t)}get priority(){return f.get(this)}set notes(t){y.set(this,t)}get notes(){return y.get(this)}input(){var t;(t=this)&&(t.title=o.value,t.description=u.value,a.value?t.dueDate=new Date(a.value):t.dueDate=new Date(0),t.priority=c.value,t.notes=l.value.split("\n"))}output(){var t;(t=this)&&(o.value=t.title,u.value=t.description,a.value=t.dueDate.toISOString().slice(0,10),c.value=t.priority,l.value=t.notes.join("\n"))}}const M=new WeakMap,m=new WeakMap,k=new WeakMap,S=new WeakMap,W=new WeakMap,b=new WeakMap,j=new WeakMap,q=new WeakMap;class x{constructor(t,e){this.div=t,this.items=e,M.set(this,t.querySelector("#title")),m.set(this,t.querySelector("ul")),k.set(this,t.querySelector("#new")),S.set(this,t.querySelector("#delete")),W.set(this,t=>{const e=document.createElement("li");e.textContent=t.title;m.get(this).appendChild(e)}),b.set(this,()=>{this.items.remove(),this.output()}),S.get(this).addEventListener("click",b.get(this)),j.set(this,()=>{this.items.new(),this.output()}),k.get(this).addEventListener("click",j.get(this)),q.set(this,()=>{const t=m.get(this);t.innerHTML="",m.set(this,t)})}output(){q.get(this)(),M.set(this,this.items.title),this.items.list.arr.forEach(t=>{W.get(this)(t)})}input(){this.items.title=M.get(this).value}}const D=new WeakMap,O=new WeakMap,E=new WeakMap;class P{constructor(t){D.set(this,t),O.set(this,new r),E.set(this,-1)}updateDisplay(t,e,s){e>=0&&e<t.count&&t.arr[e].input(),s>=0&&t.arr[s].output()}set title(t){D.set(this,t)}get title(){return D.get(this)}get list(){return O.get(this)}get active(){return E.get(this)}set active(t){const e=O.get(this),s=E.get(this);return this.updateDisplay(e,s,t),E.set(this,t)}addNew(t){const e=O.get(this);t.input(),e.add(t),E.set(this,e.count-1),O.set(this,e)}remove(){const t=O.get(this);t.count>0&&(t.delete(this.active),t.count<=this.active&&(this.active=t.count-1)),O.set(this,t)}}const _=new WeakMap;class L extends P{constructor(t,e){super(t),this.display=new x(h,this),this.projects=e,_.set(this,()=>{const t=this.projects.active;return this.projects.list.arr[t]===this})}new(){if(!_.get(this)())return;const t=new v;this.addNew(t)}remove(){_.get(this)()&&super.remove()}input(){this.display.input()}output(){this.display.output()}}new class extends P{constructor(){super("allProjects"),this.display=new x(p,this)}new(){const t=new L("",this);this.addNew(t),t.display.output()}}}]);
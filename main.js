!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const i=new WeakMap;class n{constructor(t=[]){i.set(this,t)}add(t,e=-1){const s=i.get(this),n=s.length;if(-1==e)s.push(t);else{if(e<0||e>n)throw new Error("index is out of range");s.splice(e,0,t)}i.set(this,s)}delete(t=-1){let e=i.get(this);if(-1!=t){if(t<0||t>=e.length)throw new Error("index out of range");e.splice(t,1)}else e.pop();i.set(this,e)}del(t){const e=i.get(this);if(t){const s=e.indexOf(t);if(-1==s)throw new Error("item is not in the list");this.delete(s)}}get arr(){return i.get(this)}get count(){return i.get(this).length}}const r=document.querySelector(".todo"),o=r.querySelector("#title"),a=r.querySelector("#description"),u=r.querySelector("#duedate"),c=r.querySelector("#priority"),h=r.querySelector("#notes");const l=document.querySelector(".todos"),p=document.querySelector(".projects"),d=new WeakMap,g=new WeakMap,w=new WeakMap,v=new WeakMap,f=new WeakMap;class y{constructor(t=""){d.set(this,t),w.set(this,new Date(0)),f.set(this,[])}set title(t){d.set(this,t)}get title(){return d.get(this)}set description(t){g.set(this,t)}get description(){return g.get(this)}set dueDate(t){w.set(this,t)}get dueDate(){return w.get(this)}set priority(t){v.set(this,t)}get priority(){return v.get(this)}set notes(t){f.set(this,t)}get notes(){return f.get(this)}input(){var t;(t=this)&&(t.title=o.value,t.description=a.value,u.value?t.dueDate=new Date(u.value):t.dueDate=new Date(0),t.priority=c.value,t.notes=h.value.split("\n"))}output(){var t;(t=this)&&(o.value=t.title,a.value=t.description,u.value=t.dueDate.toISOString().slice(0,10),c.value=t.priority,h.value=t.notes.join("\n"))}}const m=new WeakMap,M=new WeakMap,k=new WeakMap,S=new WeakMap,W=new WeakMap,b=new WeakMap,x=new WeakMap,j=new WeakMap,q=new WeakMap,D=new WeakMap;class O{constructor(t,e){this.div=t,this.items=e,m.set(this,t.querySelector("#title")),M.set(this,t.querySelector("ul")),k.set(this,t.querySelector("#new")),S.set(this,t.querySelector("#delete")),D.set(this,t=>{const e=t.target;this.items.active=Number(e.dataset.index)}),W.set(this,(t,e,s)=>{let i="";0!=s.valueOf()&&(i=s.toISOString().slice(0,10));const n=document.createElement("span");n.style="float: right",n.textContent=i;const r=document.createElement("span");r.textContent=e,t.appendChild(r),t.appendChild(n)}),b.set(this,(t,e,s)=>{const i=document.createElement("li");W.get(this)(i,t.title,t.dueDate),i.dataset.index=e.toString(),i.id="low",t.priority&&(i.id=t.priority),i.addEventListener("click",D.get(this)),s==e?i.classList.add("active"):i.classList.remove("active");M.get(this).appendChild(i)}),x.set(this,()=>{this.items.remove()}),S.get(this).addEventListener("click",x.get(this)),j.set(this,()=>{this.items.new()}),k.get(this).addEventListener("click",j.get(this)),q.set(this,()=>{const t=M.get(this);t.innerHTML="",M.set(this,t)})}output(){q.get(this)(),m.get(this)&&(m.get(this).value=this.items.title);const t=this.items.active;this.items.list.arr.forEach((e,s)=>{b.get(this)(e,s,t)})}input(){this.items.title=m.get(this).value}}const E=new WeakMap,L=new WeakMap,P=new WeakMap,_=new WeakMap,C=new WeakMap;class N{constructor(t,e){this.display=new O(e,this),E.set(this,t),L.set(this,new n),P.set(this,-1),_.set(this,(t,e,s)=>{e>=0&&e<t.count&&t.arr[e].input(),s>=0&&t.arr[s].output()}),C.set(this,()=>{const t=L.get(this).arr,e=P.get(this);e>=0&&t[e].output()})}set title(t){E.set(this,t)}get title(){return E.get(this)}get list(){return L.get(this)}get active(){return P.get(this)}set active(t){const e=L.get(this),s=P.get(this);return P.set(this,t),_.get(this)(e,s,t),this.output(),P.get(this)}addNew(t){const e=L.get(this);t.input(),e.add(t),P.set(this,e.count-1),L.set(this,e),this.output()}remove(){const t=L.get(this);t.count>0&&(t.delete(this.active),t.count<=this.active&&P.set(this,t.count-1)),L.set(this,t),this.output()}input(){this.display.input()}output(){this.display.output(),C.get(this)()}}const T=new WeakMap;class I extends N{constructor(t,e){super(t,l),this.projects=e,T.set(this,()=>{const t=this.projects.active;return this.projects.list.arr[t]===this})}get dueDate(){return new Date(0)}new(){if(!T.get(this)())return;const t=new y;this.addNew(t)}remove(){T.get(this)()&&super.remove()}output(){T.get(this)()&&super.output()}}new class extends N{constructor(t){super(t,p)}new(){const t=new I("",this);super.addNew(t)}}("allProjects")}]);
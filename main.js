!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"allProjects",(function(){return H}));const i=new WeakMap;class r{constructor(t=[]){i.set(this,t)}add(t,e=-1){const s=i.get(this),r=s.length;if(-1==e)s.push(t);else{if(e<0||e>r)throw new Error("index is out of range");s.splice(e,0,t)}i.set(this,s)}delete(t=-1){let e=i.get(this);if(-1!=t){if(t<0||t>=e.length)throw new Error("index out of range");e.splice(t,1)}else e.pop();i.set(this,e)}del(t){const e=i.get(this);if(t){const s=e.indexOf(t);if(-1==s)throw new Error("item is not in the list");this.delete(s)}}erase(){this.arr=[]}set arr(t){i.set(this,t)}get arr(){return i.get(this)}get count(){return i.get(this).length}}const n=document.querySelector(".todo"),o=n.querySelector("#title"),a=n.querySelector("#description"),l=n.querySelector("#duedate"),c=n.querySelector("#priority"),u=n.querySelector("#notes");const h=document.querySelector(".todos"),p=document.querySelector(".projects"),g=new WeakMap,d=new WeakMap,m=new WeakMap,v=new WeakMap,w=new WeakMap;class S{constructor(t=""){g.set(this,t),m.set(this,new Date(0)),w.set(this,[])}set title(t){g.set(this,t)}get title(){return g.get(this)}set description(t){d.set(this,t)}get description(){return d.get(this)}set dueDate(t){m.set(this,t)}get dueDate(){return m.get(this)}set priority(t){v.set(this,t)}get priority(){return v.get(this)}set notes(t){w.set(this,t)}get notes(){return w.get(this)}input(){var t;(t=this)&&(t.title=o.value,t.description=a.value,l.value?t.dueDate=new Date(l.value):t.dueDate=new Date(0),t.priority=c.value,t.notes=u.value.split("\n"))}output(){var t;(t=this)&&(o.value=t.title,a.value=t.description,l.value=t.dueDate.toISOString().slice(0,10),c.value=t.priority,u.value=t.notes.join("\n"))}save(t){localStorage.setItem(t+".0",this.title),localStorage.setItem(t+".1",this.description);const e=this.dueDate.toISOString().slice(0,10);localStorage.setItem(t+".2",e),localStorage.setItem(t+".3",this.priority);const s=this.notes.join("\n");localStorage.setItem(t+".4",s)}load(t){this.title=localStorage.getItem(t+".0"),this.description=localStorage.getItem(t+".1");const e=localStorage.getItem(t+".2");this.dueDate=new Date(e),this.priority=localStorage.getItem(t+".3");const s=localStorage.getItem(t+".4");this.notes=s.split("\n")}}const f=new WeakMap,y=new WeakMap,M=new WeakMap,k=new WeakMap,I=new WeakMap,W=new WeakMap,j=new WeakMap,b=new WeakMap,x=new WeakMap,D=new WeakMap;class q{constructor(t,e){this.div=t,this.items=e,f.set(this,t.querySelector("#title")),y.set(this,t.querySelector("ul")),M.set(this,t.querySelector("#new")),k.set(this,t.querySelector("#delete")),D.set(this,t=>{const e=t.target;this.items.active=Number(e.dataset.index)}),I.set(this,(t,e,s)=>{let i="";0!=s.valueOf()&&(i=s.toISOString().slice(0,10));const r=document.createElement("span");r.id="duedate",r.textContent=i;const n=document.createElement("span");n.textContent=e,t.appendChild(n),t.appendChild(r)}),W.set(this,(t,e,s)=>{const i=document.createElement("li");I.get(this)(i,t.title,t.dueDate),i.dataset.index=e.toString(),i.id="low",t.priority&&(i.id=t.priority),i.addEventListener("click",D.get(this)),s==e?i.classList.add("active"):i.classList.remove("active");y.get(this).appendChild(i)}),j.set(this,()=>{this.items.remove()}),k.get(this).addEventListener("click",j.get(this)),b.set(this,()=>{this.items.new()}),M.get(this).addEventListener("click",b.get(this)),x.set(this,()=>{const t=y.get(this);t.innerHTML="",y.set(this,t)})}save(){H.list.count>0&&H.save("")}output(){x.get(this)(),f.get(this)&&(f.get(this).value=this.items.title);const t=this.items.active;this.items.list.arr.forEach((e,s)=>{W.get(this)(e,s,t)}),this.save()}input(){this.items.title=f.get(this).value}}const O=new WeakMap,E=new WeakMap,P=new WeakMap,L=new WeakMap,_=new WeakMap;class C{constructor(t,e){this.display=new q(e,this),O.set(this,t),E.set(this,new r),P.set(this,-1),L.set(this,(t,e,s)=>{e>=0&&e<t.count&&t.arr[e].input(),s>=0&&t.arr[s].output()}),_.set(this,()=>{const t=E.get(this).arr,e=P.get(this);e>=0&&t[e].output()})}set title(t){O.set(this,t)}get title(){return O.get(this)}get list(){return E.get(this)}get active(){return P.get(this)}set active(t){const e=E.get(this),s=P.get(this);return P.set(this,t),L.get(this)(e,s,t),this.output(),P.get(this)}addNew(t){const e=E.get(this);t.input(),e.add(t),P.set(this,e.count-1),E.set(this,e)}remove(){const t=E.get(this);t.count>0&&(t.delete(this.active),t.count<=this.active&&P.set(this,t.count-1)),E.set(this,t),this.output()}input(){this.display.input()}output(){this.display.output(),_.get(this)()}save(t){localStorage.setItem(t+".title",this.title),localStorage.setItem(t+".active",this.active),localStorage.setItem(t+".length",this.list.count),this.list.arr.forEach((e,s)=>{let i=t+"."+s.toString();e.save(i)})}load(t){this.list.erase(),this.title=localStorage.getItem(t+".title"),P.set(this,localStorage.getItem(t+".active"));const e=localStorage.getItem(t+".length");for(let s=0;s<e;s++){let e=t+"."+s.toString();this.createItem().load(e)}}}const N=new WeakMap;class T extends C{constructor(t,e){super(t,h),this.projects=e,N.set(this,()=>{const t=this.projects.active;return this.projects.list.arr[t]===this})}get dueDate(){return new Date(0)}new(){N.get(this)()&&(this.createItem(),this.output())}createItem(){const t=new S;return this.addNew(t),t}remove(){N.get(this)()&&super.remove()}output(){N.get(this)()&&super.output()}}const H=new class extends C{constructor(t){super(t,p)}new(){this.createItem(),this.output()}createItem(){const t=new T("",this);return super.addNew(t),t}}("allProjects");localStorage.getItem(".length")&&H.load(""),H.output()}]);